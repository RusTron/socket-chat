{"version":3,"sources":["utils/enums.ts","utils/constants.ts","context/reducer.ts","context/index.tsx","socket/index.ts","components/Form/Input.tsx","components/Form/PrimaryButton.tsx","components/Form/Textarea.tsx","components/Form/SendButton.tsx","components/Form/index.tsx","components/Headings/index.tsx","assets/images/inactive.svg","pages/Login/styles.ts","pages/Login/index.tsx","assets/images/half-label.svg","components/ChatTextareaForm.tsx","context/actions.ts","components/Notificaations/index.tsx","components/Message.tsx","components/MessageList.tsx","pages/Chat/index.tsx","components/Layout/Header.tsx","components/Layout/Content.tsx","components/Layout/index.tsx","components/Header/index.tsx","App.tsx","index.tsx"],"names":["HeadingType","Log","SocketActions","ActionTypes","ButtonType","FlexDirectionTypes","firstMessage","actionsForDispatch","new_message","login","typing","stop_typing","user_left","user_joined","reducer","state","initialState","action","type","SET_OUR_NAME","ourName","payload","SET_NEW_MESSAGE","messages","time","moment","format","SET_FIRST_MESSAGE","length","message","SET_TYPING","filter","user","username","SET_STOP_TYPING","SET_USER_LEFT","SET_USER_JOIN","SET_CLEAR_DATA","notifications","loginStatus","AppContext","createContext","dispatch","AppContextProvider","children","useReducer","updatedState","Provider","value","socketStore","socket","connection","StyledInput","styled","input","StyledButton","button","StyledTextarea","textarea","Textarea","React","forwardRef","ref","styles","setButtonActive","useState","setValue","placeholder","onChange","e","target","trimLeft","style","StyledForm","form","Form","onSubmit","Input","Button","text","SendButton","_path","_path2","_path3","Headings","tag","createElement","inputStyles","width","height","marginBottom","fontSize","minHeight","padding","borderRadius","buttonStyles","formStyles","display","flexDirection","column","LoginWrapper","div","withRouter","history","useContext","setSocketConnection","WebSocket","onopen","send","ping","push","redirect","h1","preventDefault","firstChild","submit","_excluded","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgInactive","_ref","svgRef","title","titleId","props","viewBox","fill","xmlns","id","d","ForwardRef","SvgHalfLabel","Label","label","SecondHalfLabel","HalfLabel","FormStyles","maxHeight","borderTop","justifyContent","alignItems","backgroundColor","cursor","border","outline","ChatTextareaForm","buttonActive","useRef","current","data","JSON","stringify","undefined","NotificationWrapper","NotificationBody","Notification","chooseNotificationMessage","numUsers","Date","now","MessageBody","fromMe","MessageInfo","MessageTime","span","MessageWrapper","HeadingStyles","margin","Message","h5","MessageListWrapper","MessageList","Thread","messageList","useEffect","lastChild","scrollIntoView","map","ChatWrapper","console","log","onmessage","messageIndex","match","messageData","replace","parse","pong","connectionOpened","handleSocketMessage","onclose","interval","setInterval","clearInterval","close","LayoutHeader","LayoutContent","LayoutBase","Layout","Header","Content","HeaderWrapper","App","path","exact","component","Login","Chat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1d390e69.chunk.js","sourcesContent":["export enum HeadingType {\n  h1 = 'h1',\n  h2 = 'h2',\n  h3 = 'h3',\n  h4 = 'h4',\n  h5 = 'h5',\n  h6 = 'h6',\n  p = 'p'\n}\n\nexport enum Log {\n  in = 'Log in',\n  out = 'Log out'\n}\n\nexport enum SocketActions {\n  ping = '2',\n  pong = '3',\n  connectionOpened = '5',\n  message = '42',\n}\n\nexport enum ActionTypes {\n  SET_OUR_NAME,\n  SET_CLEAR_DATA,\n  SET_NEW_MESSAGE = 'new message',\n  SET_FIRST_MESSAGE = 'login',\n  SET_TYPING = 'typing',\n  SET_STOP_TYPING = 'stop typing',\n  SET_USER_LEFT = 'user left',\n  SET_USER_JOIN = 'user joined',\n }\n\nexport enum ButtonType {\n  button = 'button',\n  submit = 'submit',\n  reset = 'reset',\n}\n\nexport enum FlexDirectionTypes {\n  column = 'column',\n  row = 'row',\n}\n","import { actionsForDispatchTypes } from 'src/types';\n\nexport const firstMessage = 'Welcome to Socket.IO Chat';\n\nexport const actionsForDispatch: actionsForDispatchTypes = {\n  new_message: 'new message',\n  login: 'login',\n  typing: 'typing',\n  stop_typing: 'stop typing',\n  user_left: 'user left',\n  user_joined: 'user joined',\n};\n","import { Reducer } from 'react';\nimport moment from 'moment';\nimport { StateType } from 'src/types';\nimport { ActionTypes } from 'src/utils/enums';\nimport { firstMessage } from 'src/utils/constants';\nimport { Action } from './actions';\nimport { initialState } from './index';\n\nexport const reducer: Reducer<StateType, Action> = (state: StateType = initialState, action: Action): StateType => {\n  switch (action.type) {\n    case ActionTypes.SET_OUR_NAME:\n      return {\n        ...state,\n        ourName: action.payload,\n      };\n    case ActionTypes.SET_NEW_MESSAGE:\n      return {\n        ...state,\n        messages: [...state.messages, [action.payload[0], { ...action.payload[1], time: moment().format('HH:mm') }]],\n      };\n    case ActionTypes.SET_FIRST_MESSAGE:\n      return {\n        ...state,\n        messages: state.messages.length\n          ? [...state.messages, [action.payload[0], { ...action.payload[1], message: firstMessage }]]\n          : [[action.payload[0], { ...action.payload[1], message: firstMessage }]],\n      };\n    case ActionTypes.SET_TYPING:\n      return {\n        ...state,\n        typing: state.typing.length\n          ? [...state.typing.filter((user) => user[1].username !== action.payload[1].username), action.payload]\n          : [action.payload],\n      };\n    case ActionTypes.SET_STOP_TYPING:\n      return {\n        ...state,\n        typing: state.typing.length\n          ? state.typing.filter((user) => user[1].username === action.payload[1].username)\n          : [],\n      };\n    case ActionTypes.SET_USER_LEFT:\n      return {\n        ...state,\n        typing: state.typing.length\n          ? state.typing.filter((user) => user[1].username === action.payload[1].username)\n          : [],\n        messages: state.messages.length ? [...state.messages, action.payload] : [action.payload],\n      };\n    case ActionTypes.SET_USER_JOIN:\n      return {\n        ...state,\n        messages: state.messages.length ? [...state.messages, action.payload] : [action.payload],\n      };\n    case ActionTypes.SET_CLEAR_DATA:\n      return { ...initialState };\n    default:\n      return state;\n  }\n};\n","import React, {\n  createContext, useReducer, Reducer, Dispatch,\n} from 'react';\nimport { reducer } from './reducer';\nimport { ReturnedTypes } from './actions';\nimport { StateType } from '../types';\n\ninterface ContextType {\n  state: StateType,\n  dispatch: Dispatch<ReturnedTypes>,\n}\n\nexport const initialState = {\n  ourName: '',\n  messages: [],\n  notifications: [],\n  loginStatus: false,\n  typing: [],\n};\n\nexport const AppContext = createContext<ContextType>({\n  state: initialState,\n  dispatch: () => null,\n});\n\nexport const AppContextProvider: React.FC = ({ children }) => {\n  const [state, dispatch] = useReducer<Reducer<StateType, any>, StateType>(\n    reducer,\n    initialState,\n    (updatedState: StateType): StateType => updatedState,\n  );\n\n  return (\n    <AppContext.Provider\n      value={{\n        state,\n        dispatch,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n","import { SocketStoreType } from 'src/types';\n\nexport const socketStore: SocketStoreType = {\n  socket: null,\n  connection: false,\n  firstMessage: true,\n};\n\nexport const createSocket = () => {\n  socketStore.socket = new WebSocket(\n    'wss://socketio-chat-h9jt.herokuapp.com/socket.io/?EIO=3&transport=websocket',\n  );\n};\n","import React, { ChangeEvent, useState } from 'react';\nimport styled from 'styled-components';\n\nconst StyledInput = styled.input`\n  height: 30px;\n  font-variant: tabular-nums;\n  list-style: none;\n  font-feature-settings: \"tnum\";\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  min-width: 0;\n  padding: 4px 11px;\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 14px;\n  line-height: 1.5;\n  border: 1px solid #009bb7;\n  border-radius: 2px;\n`;\n\ninterface Props {\n  styles?: React.CSSProperties;\n}\n\nexport const Input = ({ styles }: Props) => {\n  const [value, setValue] = useState('');\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value.trimLeft());\n  };\n\n  return (\n    <StyledInput\n      type=\"text\"\n      onChange={handleChange}\n      value={value}\n      style={styles}\n    />\n  );\n};\n","import React, { ReactNode, CSSProperties } from 'react';\nimport styled from 'styled-components';\nimport { ButtonType } from 'src/utils/enums';\n\nconst StyledButton = styled.button`\n  line-height: 1.5;\n  position: relative;\n  display: inline-block;\n  white-space: nowrap;\n  text-align: center;\n  border: 1px solid transparent;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n  user-select: none;\n  touch-action: manipulation;\n  color: #fff;\n  background: #009bb7;\n  border-color: #009bb7;\n  text-shadow: 0 -1px 0 rgb(0 0 0 / 12%);\n  box-shadow: 0 2px 0 rgb(0 0 0 / 5%);\n\n    :hover {\n      background: #01859C;\n      border-color: #01859C;\n    }\n`;\n\ninterface Props {\n  type?: Partial<ButtonType>,\n  children?: ReactNode;\n  text?: string;\n  styles?: CSSProperties;\n}\n\nexport const PrimaryButton = ({\n  type, children, text, styles,\n}: Props) => (\n  <StyledButton\n    type={type}\n    style={styles}\n  >\n    {text || children || ''}\n  </StyledButton>\n);\n","import React, { ChangeEvent, useState } from 'react';\nimport styled from 'styled-components';\n\nconst StyledTextarea = styled.textarea`\n  padding: 21px 0 22px 24px;\n  border: none;\n  outline: none;\n  height: 100%;\n  width: 100%;\n  resize: none;\n  font-family: Roboto, Arial;\n  font-size: 16px;\n  line-height: 19px;\n  color: #182a40;\n  overflow-y: scroll;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n\n  &::placeholder {\n    font-size: 16px;\n    line-height: 19px;\n    color: #d7dbe6;\n  }\n`;\n\ninterface Props {\n  styles?: React.CSSProperties;\n  children?: React.ReactNode;\n  setButtonActive?: (state: boolean) => void;\n}\n\nexport const Textarea = React.forwardRef<HTMLTextAreaElement, Props>(\n  ({ children, styles, setButtonActive }, ref) => {\n    const [value, setValue] = useState('');\n\n    const handleChange = (e: ChangeEvent<HTMLTextAreaElement>): void => {\n      setValue(e.target.value.trimLeft());\n\n      if (!setButtonActive) return;\n      if (e.target.value) setButtonActive(true);\n      else setButtonActive(false);\n    };\n\n    return (\n      <StyledTextarea\n        placeholder=\"Write a message\"\n        value={value}\n        onChange={handleChange}\n        style={styles}\n        ref={ref}\n      >\n        {children}\n      </StyledTextarea>\n    );\n  },\n);\n","import React, { ReactNode, CSSProperties } from 'react';\nimport styled from 'styled-components';\nimport { ButtonType } from 'src/utils/enums';\n\nconst StyledButton = styled.button`\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    background-color: #818BA0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-right: 20px;\n    border: none;\n    outline: none;\n`;\n\ninterface Props {\n  type?: Partial<ButtonType>,\n  children?: ReactNode;\n  text?: string;\n  styles?: CSSProperties;\n}\n\nexport const SendButton = ({\n  type, children, text, styles,\n}: Props) => (\n  <StyledButton\n    type={type}\n    style={styles}\n  >\n    {text || children || ''}\n  </StyledButton>\n);\n","import React, { ReactNode, FormEvent, CSSProperties } from 'react';\nimport styled from 'styled-components';\nimport { Input } from './Input';\nimport { PrimaryButton } from './PrimaryButton';\nimport { Textarea } from './Textarea';\nimport { SendButton } from './SendButton';\n\nconst StyledForm = styled.form`\n  display: flex;\n`;\n\ninterface Props {\n  children: ReactNode;\n  onSubmit: (e: FormEvent) => void;\n  styles?: CSSProperties;\n}\n\nconst Form = ({ children, onSubmit, styles }: Props) => (\n  <StyledForm onSubmit={onSubmit} style={styles}>\n    {children}\n  </StyledForm>\n);\n\nForm.Input = Input;\nForm.Button = PrimaryButton;\nForm.Textarea = Textarea;\nForm.SendButton = SendButton;\n\nexport { Form };\n","import { FC, CSSProperties, createElement } from 'react';\nimport { HeadingType } from 'src/utils/enums';\n\ninterface Props {\n  tag: Partial<HeadingType>;\n  styles?: CSSProperties;\n}\n\nexport const Headings:FC<Props> = ({ tag, styles = {}, children }) => createElement(tag, { style: styles }, children);\n","var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgInactive(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.502 9.85511C17.6815 9.6715 17.8202 9.45595 17.9099 9.20847C18.0568 8.76938 17.9997 8.25845 17.9099 7.97904C17.7468 7.52399 17.4041 7.14079 16.9554 6.93323L2.711 0.187349C1.7728 -0.259715 0.646952 0.131466 0.190087 1.04156C-0.0383459 1.51257 -0.0628209 2.05544 0.132979 2.53444L2.3602 7.97106L15.6093 8.25047C16.5393 8.26644 17.3796 8.92107 17.4939 9.82318C17.502 9.83915 17.502 9.84713 17.502 9.85511Z\",\n    fill: \"white\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.6491 12.1941C10.6491 12.1941 10.7797 11.5874 11.3834 11.4357C11.465 10.5895 11.8321 9.84706 12.4358 9.29621C12.5663 9.17646 12.705 9.08066 12.8519 8.98486L2.36028 9.2084L0.133064 14.653C-0.250377 15.603 0.222805 16.6808 1.19364 17.056C1.41392 17.1438 1.65051 17.1837 1.8871 17.1837C2.17264 17.1837 2.45818 17.1198 2.71109 17.0001L10.6491 13.24V12.1941Z\",\n    fill: \"white\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.812 12.5058H17.2654V11.8267C17.2246 11.1803 16.9391 10.5749 16.4659 10.1331C15.9927 9.69126 15.3727 9.4458 14.7282 9.4458C14.0837 9.4458 13.4636 9.69126 12.9904 10.1331C12.5173 10.5749 12.2317 11.1803 12.1909 11.8267V12.5058H11.6443C11.6199 12.5058 11.5954 12.5058 11.5791 12.514C11.5546 12.5222 11.5383 12.5303 11.522 12.5467C11.5056 12.5631 11.4893 12.5794 11.4812 12.604C11.473 12.6285 11.4648 12.6449 11.4648 12.6694V16.9322C11.473 17.1203 11.5546 17.2922 11.6851 17.4231C11.8238 17.554 12.0033 17.6194 12.1909 17.6113H17.2654C17.453 17.6194 17.6325 17.5458 17.7712 17.4231C17.9099 17.2922 17.9833 17.1203 17.9915 16.9322V12.6694C17.9915 12.6449 17.9833 12.6203 17.9752 12.604C17.967 12.5794 17.9507 12.5631 17.9344 12.5467C17.9181 12.5303 17.8936 12.5222 17.8773 12.514C17.861 12.5058 17.8365 12.5058 17.812 12.5058ZM15.2748 16.0649C15.2748 16.0894 15.2748 16.114 15.2666 16.1385C15.2585 16.1631 15.2421 16.1794 15.2258 16.1958C15.2095 16.2122 15.185 16.2285 15.1606 16.2367C15.1361 16.2449 15.1116 16.2531 15.0871 16.2531H14.361C14.3366 16.2531 14.3121 16.2449 14.2876 16.2367C14.2631 16.2285 14.2468 16.2122 14.2224 16.1958C14.206 16.1794 14.1897 16.1549 14.1816 16.1385C14.1734 16.114 14.1734 16.0894 14.1734 16.0649L14.2876 15.0994C14.1979 15.0422 14.1245 14.9603 14.0673 14.8622C14.0184 14.764 13.9858 14.6576 13.9858 14.5513C13.9939 14.3631 14.0755 14.1913 14.2142 14.0603C14.3529 13.9294 14.5242 13.864 14.7119 13.864C14.8995 13.864 15.079 13.9376 15.2095 14.0603C15.3482 14.1913 15.4216 14.3631 15.4379 14.5513C15.4379 14.6576 15.4135 14.764 15.3564 14.8622C15.3074 14.9603 15.234 15.0422 15.1442 15.0994L15.2748 16.0649ZM16.1803 12.5058H13.276V11.8267C13.3005 11.4585 13.4636 11.1149 13.7329 10.8613C14.0021 10.6076 14.361 10.4685 14.7282 10.4685C15.0953 10.4685 15.4543 10.6076 15.7235 10.8613C15.9927 11.1149 16.1559 11.4585 16.1803 11.8267V12.5058Z\",\n    fill: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInactive);\nexport default __webpack_public_path__ + \"static/media/inactive.b2d04ee3.svg\";\nexport { ForwardRef as ReactComponent };","import { FlexDirectionTypes } from 'src/utils/enums';\n\nexport const inputStyles = {\n  width: '300px',\n  height: '48px',\n  marginBottom: '24px',\n  fontSize: '24px',\n  minHeight: '32px',\n  padding: '4px 15px',\n  borderRadius: '2px',\n};\n\nexport const buttonStyles = {\n  fontSize: '24px',\n  borderRadius: '2px',\n};\n\nexport const formStyles = {\n  display: 'flex',\n  flexDirection: FlexDirectionTypes.column,\n};\n\nexport const textareaStyles = {\n  padding: '21px 0 22px 24px',\n};\n","import React, { useContext, FormEvent } from 'react';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { socketStore, createSocket } from 'src/socket';\nimport { AppContext } from 'src/context';\nimport { Form } from 'src/components/Form';\nimport { Headings } from 'src/components/Headings';\nimport { HeadingType, ActionTypes, ButtonType, SocketActions } from 'src/utils/enums';\nimport { inputStyles, buttonStyles, formStyles } from './styles';\n\nconst LoginWrapper = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Login = ({ history }: RouteComponentProps) => {\n  const { dispatch } = useContext(AppContext);\n\n  const redirect = (ourName: string) => history.push(`/${ourName}`);\n\n  const setSocketConnection = (ourName: string) => {\n    createSocket();\n    const { socket } = socketStore;\n\n    if (!socket) return;\n\n    socket.onopen = () => {\n      socket.send(`${SocketActions.ping}probe`);\n      redirect(ourName);\n    };\n  };\n\n  const handleSubmit = (e: FormEvent) => {\n    e.preventDefault();\n\n    const ourName = ((e.target as HTMLFormElement).firstChild as HTMLInputElement).value;\n\n    dispatch({\n      type: ActionTypes.SET_OUR_NAME,\n      payload: ourName,\n    });\n\n    setSocketConnection(ourName);\n  };\n\n  return (\n    <LoginWrapper>\n      <Headings tag={HeadingType.h1}>Enter your name</Headings>\n      <Form onSubmit={handleSubmit} styles={formStyles}>\n        <Form.Input styles={inputStyles} />\n        <Form.Button type={ButtonType.submit} text=\"Join\" styles={buttonStyles} />\n      </Form>\n    </LoginWrapper>\n  );\n};\n\nexport default withRouter(Login);\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHalfLabel(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 10,\n    viewBox: \"0 0 18 10\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.502 9.85511C17.6815 9.6715 17.8202 9.45595 17.9099 9.20847C18.0568 8.76938 17.9997 8.25845 17.9099 7.97904C17.7468 7.52399 17.4041 7.14079 16.9554 6.93323L2.711 0.187349C1.7728 -0.259715 0.646952 0.131466 0.190087 1.04156C-0.0383459 1.51257 -0.0628209 2.05544 0.132979 2.53444L2.3602 7.97106L15.6093 8.25047C16.5393 8.26644 17.3796 8.92107 17.4939 9.82318C17.502 9.83915 17.502 9.84713 17.502 9.85511Z\",\n    fill: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHalfLabel);\nexport default __webpack_public_path__ + \"static/media/half-label.66a992c6.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useRef, useContext, FormEvent } from 'react';\nimport styled from 'styled-components';\nimport moment from 'moment';\nimport { AppContext } from 'src/context';\nimport { setNewMessage } from 'src/context/actions';\nimport { NewMessage } from 'src/types';\nimport { ReactComponent as InActiveLabel } from 'src/assets/images/inactive.svg';\nimport { ReactComponent as HalfLabel } from 'src/assets/images/half-label.svg';\nimport { socketStore } from 'src/socket';\nimport { ActionTypes, ButtonType, SocketActions } from 'src/utils/enums';\nimport { Form } from './Form';\n\nconst Label = styled.label`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst SecondHalfLabel = styled(HalfLabel)`\n  transform: rotateX(180deg);\n  margin-top: -2px;\n`;\n\nconst FormStyles = {\n  width: '100%',\n  maxHeight: '62px',\n  height: '62px',\n  borderTop: '1px solid #D7DBE6',\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'center',\n};\n\nconst buttonStyles = {\n  backgroundColor: '#01859C',\n  cursor: 'pointer',\n  border: 'none',\n  outline: 'none',\n};\n\nconst ChatTextareaForm = () => {\n  const [buttonActive, setButtonActive] = useState(false);\n\n  const textarea = useRef<HTMLTextAreaElement>(null);\n\n  const {\n    state: { ourName },\n    dispatch,\n  } = useContext(AppContext);\n\n  const addData = (e: FormEvent) => {\n    e.preventDefault();\n\n    if (!textarea.current) return;\n\n    const data = [\n      ActionTypes.SET_NEW_MESSAGE,\n      { username: ourName, message: textarea.current.value, time: moment().format('HH:mm') },\n    ];\n\n    dispatch(setNewMessage(data as NewMessage));\n\n    if (socketStore.socket) {\n      socketStore.socket.send(\n        `${SocketActions.message}${JSON.stringify([ActionTypes.SET_NEW_MESSAGE, textarea.current.value])}`,\n      );\n    }\n    textarea.current.value = '';\n  };\n\n  return (\n    <Form onSubmit={addData} styles={FormStyles}>\n      <Form.Textarea ref={textarea} setButtonActive={setButtonActive} />\n      <Form.SendButton type={ButtonType.submit} styles={buttonActive ? buttonStyles : undefined}>\n        <Label>\n          {buttonActive ? (\n            <>\n              <HalfLabel />\n              <SecondHalfLabel />\n            </>\n          ) : (\n            <InActiveLabel />\n          )}\n        </Label>\n      </Form.SendButton>\n    </Form>\n  );\n};\n\nexport default ChatTextareaForm;\n","import { ActionTypes } from 'src/utils/enums';\nimport { MessageLogin, MessageTyping, MessageStopTyping, NewMessage, UserJoin, UserLeft } from 'src/types';\n\ntype SetOurName = string;\n\ninterface SetOurNameActionType {\n  type: ActionTypes.SET_OUR_NAME;\n  payload: SetOurName;\n}\n\ninterface SetFirstMessage {\n  type: ActionTypes.SET_FIRST_MESSAGE;\n  payload: MessageLogin;\n}\n\ninterface SetNewMessage {\n  type: ActionTypes.SET_NEW_MESSAGE;\n  payload: NewMessage;\n}\n\ninterface SetTyping {\n  type: ActionTypes.SET_TYPING;\n  payload: MessageTyping;\n}\n\ninterface SetStopTyping {\n  type: ActionTypes.SET_STOP_TYPING;\n  payload: MessageStopTyping;\n}\n\ninterface SetUserJoin {\n  type: ActionTypes.SET_USER_JOIN;\n  payload: UserJoin;\n}\n\ninterface SetUserLeft {\n  type: ActionTypes.SET_USER_LEFT;\n  payload: UserLeft;\n}\n\ninterface SetInitialData {\n  type: ActionTypes.SET_CLEAR_DATA;\n}\n\nexport const setOurName = (payload: SetOurName): SetOurNameActionType => ({\n  type: ActionTypes.SET_OUR_NAME,\n  payload,\n});\n\nexport const setNewMessage = (payload: NewMessage): SetNewMessage => ({\n  type: ActionTypes.SET_NEW_MESSAGE,\n  payload,\n});\n\nexport const setFirstMessage = (payload: MessageLogin): SetFirstMessage => ({\n  type: ActionTypes.SET_FIRST_MESSAGE,\n  payload,\n});\n\nexport const setTyping = (payload: MessageTyping): SetTyping => ({\n  type: ActionTypes.SET_TYPING,\n  payload,\n});\n\nexport const setStopTyping = (payload: MessageStopTyping): SetStopTyping => ({\n  type: ActionTypes.SET_STOP_TYPING,\n  payload,\n});\n\nexport const setUserJoin = (payload: UserJoin): SetUserJoin => ({\n  type: ActionTypes.SET_USER_JOIN,\n  payload,\n});\n\nexport const setUserLeft = (payload: UserLeft): SetUserLeft => ({\n  type: ActionTypes.SET_USER_LEFT,\n  payload,\n});\n\nexport const clearData = (): SetInitialData => ({\n  type: ActionTypes.SET_CLEAR_DATA,\n});\n\nexport type Action =\n  | SetOurNameActionType\n  | SetNewMessage\n  | SetFirstMessage\n  | SetTyping\n  | SetStopTyping\n  | SetUserLeft\n  | SetUserJoin\n  | SetInitialData;\n\nexport type ReturnedTypes = ReturnType<\n  | typeof setOurName\n  | typeof setNewMessage\n  | typeof setFirstMessage\n  | typeof setTyping\n  | typeof setStopTyping\n  | typeof setUserJoin\n  | typeof setUserLeft\n  | typeof clearData\n>;\n\nexport type PayloadType =\n  | SetOurName\n  | MessageLogin\n  | MessageTyping\n  | MessageStopTyping\n  | NewMessage\n  | UserJoin\n  | UserLeft;\n","import React, { Fragment } from 'react';\nimport styled from 'styled-components';\nimport { NotificationType } from 'src/types';\nimport { ActionTypes } from 'src/utils/enums';\n\nconst NotificationWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 8px 0;\n`;\n\nconst NotificationBody = styled.div`\n  width: auto;\n  max-width: 70%;\n  min-width: 20%;\n  /* background-color: #fcfafa; */\n  border-radius: 16px;\n  padding: 2px 10px;\n  text-align: center;\n`;\n\ninterface Props {\n  message: NotificationType;\n}\n\nconst Notification: React.FC<Props> = ({ message }) => {\n  const chooseNotificationMessage = (type: Partial<ActionTypes>) => {\n    switch (type) {\n      case ActionTypes.SET_USER_JOIN:\n        return `${message[1].username} joined`;\n      case ActionTypes.SET_USER_LEFT:\n        return `${message[1].username} left`;\n      case ActionTypes.SET_FIRST_MESSAGE:\n        return 'Welcome to Socket.IO Chat';\n      default:\n        return '';\n    }\n  };\n\n  return (\n    <Fragment key={`${message[1].username} ${Date.now()}`}>\n      <NotificationWrapper>\n        <NotificationBody>{chooseNotificationMessage(message[0])}</NotificationBody>\n      </NotificationWrapper>\n      <NotificationWrapper>\n        <NotificationBody>{`there are ${message[1].numUsers} participants`}</NotificationBody>\n      </NotificationWrapper>\n    </Fragment>\n  );\n};\n\nexport default Notification;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { HeadingType } from 'src/utils/enums';\nimport { NewMessageType } from 'src/types';\nimport { Headings } from './Headings';\n\nconst MessageBody = styled.div<MessageProps>`\n    border: 1px solid #D7DBE6;\n    max-width: 40%;\n    min-width: 140px;\n    padding: 8px 12px;\n    margin-top: 8px;\n    display: inline-block;\n    background-color: ${(props) => (props.fromMe ? '#E5F3F8' : 'inherit')};\n    border-radius: ${(props) => (props.fromMe ? '10px 10px 0px 10px' : '0px 10px 10px 10px')};\n`;\n\nconst MessageInfo = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`;\n\nconst MessageTime = styled.span`\n  font-size: 14px;\n  line-height: 16px;\n  color: #c1c9da;\n`;\ninterface MessageProps {\n  fromMe: boolean;\n}\n\nconst MessageWrapper = styled.div<MessageProps>`\n  display: flex;\n  justify-content: ${(props) => (props.fromMe ? 'flex-end' : 'flex-start')};\n`;\n\nconst HeadingStyles = {\n  margin: '2px 0',\n};\n\ninterface Props {\n  fromMe: boolean;\n  message: NewMessageType;\n}\n\nconst Message: React.FC<Props> = ({ fromMe, message }) => {\n  const { message: text, time, username } = message;\n  return (\n    <MessageWrapper fromMe={fromMe}>\n      <MessageBody fromMe={fromMe}>\n        {!fromMe && <Headings tag={HeadingType.h5} styles={HeadingStyles}>{username}</Headings>}\n        {text}\n        <MessageInfo>\n          <MessageTime>{time}</MessageTime>\n        </MessageInfo>\n      </MessageBody>\n    </MessageWrapper>\n  );\n};\n\nexport default Message;\n","import React, { useRef, useEffect, useContext } from 'react';\nimport styled from 'styled-components';\nimport { ActionTypes } from 'src/utils/enums';\nimport { AppContext } from 'src/context';\nimport { NotificationType } from 'src/types';\nimport Notification from './Notificaations';\nimport Message from './Message';\n\nconst MessageListWrapper = styled.div`\n  display: flex;\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.25);\n  border-radius: 2px;\n  height: calc(100% - 62px);\n  flex-grow: 1;\n  flex-direction: column;\n  position: relative;\n`;\n\nconst MessageList = styled.div`\n  margin: 8px 24px 36px;\n  overflow-y: scroll;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n\n  &::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n`;\n\nconst Thread = () => {\n  const messageList = useRef<HTMLDivElement>(null);\n  const {\n    state: { ourName, messages },\n  } = useContext(AppContext);\n\n  useEffect(() => {\n    if (!messageList.current || !messageList.current.lastChild) return;\n    (messageList.current.lastChild as any).scrollIntoView();\n  });\n\n  return (\n    <MessageListWrapper>\n      <MessageList ref={messageList}>\n        {messages.map(\n          (message) => (message[0] === ActionTypes.SET_NEW_MESSAGE && (\n            <Message fromMe={message[1].username === ourName} message={message[1]} />\n          )) || <Notification message={message as NotificationType} />,\n        )}\n      </MessageList>\n    </MessageListWrapper>\n  );\n};\n\nexport default Thread;\n","import React, { useEffect, useContext } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { socketStore } from 'src/socket';\nimport Form from 'src/components/ChatTextareaForm';\nimport Thread from 'src/components/MessageList';\nimport { AppContext } from 'src/context';\nimport { ActionTypes, SocketActions } from 'src/utils/enums';\nimport { actionsForDispatch } from 'src/utils/constants';\n\nconst ChatWrapper = styled.div`\n  height: 100%;\n`;\n\nconst Chat = () => {\n  const { state: { ourName, messages, typing }, dispatch } = useContext(AppContext);\n  console.log('messages', messages, 'typing', typing);\n\n  const handleSocketMessage = (e: any, socket: WebSocket): void => {\n    const messageIndex = e.data.match(/^(\\d+)/)[0];\n    const messageData = e.data.replace(/^(\\d+)/, '');\n    const message = messageData ? JSON.parse(messageData) : '';\n\n    if (messageIndex === SocketActions.pong && !socketStore.connection) {\n      socket.send(SocketActions.connectionOpened);\n      const data = JSON.stringify(['add user', ourName]);\n      socket.send(`${SocketActions.message}${data}`);\n      socketStore.connection = true;\n    } else if (messageIndex === SocketActions.message && socketStore.connection) {\n      const action = message[0].replace(/ /, '_');\n\n      if (!actionsForDispatch[action]) return;\n      dispatch({\n        type: actionsForDispatch[action] as Partial<ActionTypes>,\n        payload: message,\n      });\n\n      socketStore.firstMessage = false;\n    }\n  };\n\n  useEffect(() => {\n    const { socket } = socketStore;\n    if (!socket) return;\n\n    socket.onmessage = (e) => {\n      handleSocketMessage(e, socket);\n    };\n\n    socket.onclose = () => {\n      console.log('closed');\n    };\n\n    const interval = setInterval(() => socket.send(SocketActions.ping), 20000);\n\n    return () => {\n      clearInterval(interval);\n      socket.close();\n      socketStore.connection = false;\n      socketStore.firstMessage = true;\n      dispatch({\n        type: ActionTypes.SET_CLEAR_DATA,\n      });\n    };\n  }, []);\n\n  return (\n    <ChatWrapper>\n      <Thread />\n      <Form />\n    </ChatWrapper>\n  );\n};\n\nexport default withRouter(Chat);\n","import React, { ReactNode, CSSProperties } from 'react';\nimport styled from 'styled-components';\n\nconst LayoutHeader = styled.div`\n  height: 93px;\n  background-color: #009bb7;\n`;\n\ninterface Props {\n  children: ReactNode;\n  styles?: CSSProperties;\n}\n\nexport const Header = ({ children, styles }: Props) => (\n  <LayoutHeader style={styles}>{children}</LayoutHeader>\n);\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst LayoutContent = styled.div`\n  height: calc(100% - 93px);\n`;\n\ninterface Props {\n  styles?: React.CSSProperties\n}\n\nexport const Content: React.FC<Props> = ({ children, styles }) => (\n  <LayoutContent style={styles}>{children}</LayoutContent>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Header } from './Header';\nimport { Content } from './Content';\n\nconst LayoutBase = styled.div`\n  width: 100%;\n  height: 100%;\n  max-width: 1280px;\n  border: 1px solid #009bb7;\n  margin: 0 auto;\n`;\n\ninterface Props {\n  children: React.ReactNode;\n  styles?: React.CSSProperties;\n}\n\nconst Layout = ({ children, styles }: Props) => (\n  <LayoutBase style={styles}>{children}</LayoutBase>\n);\n\nLayout.Header = Header;\nLayout.Content = Content;\n\nexport { Layout };\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst HeaderWrapper = styled.div`\n  height: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  font-size: 24px;\n  color: #fff;\n  padding: 0 40px;\n\n  :hover {\n    cursor: pointer;\n    color: #dff;\n  }\n`;\n\nexport const Header = () => <HeaderWrapper>Log in</HeaderWrapper>;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { AppContextProvider } from './context';\nimport Login from './pages/Login';\nimport Chat from './pages/Chat';\nimport { Layout } from './components/Layout';\nimport { Header } from './components/Header';\n\nfunction App() {\n  return (\n    <Layout>\n      <AppContextProvider>\n        <Layout.Header>\n          <Header />\n        </Layout.Header>\n        <Layout.Content>\n          <Switch>\n            <Route path=\"/\" exact component={Login} />\n            <Route path=\"/:ourName\" component={Chat} />\n          </Switch>\n        </Layout.Content>\n      </AppContextProvider>\n    </Layout>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}